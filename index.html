<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Contacto</title>
    <meta name="description" content="Formulario de contacto simple en GitHub Pages usando Formspree" />
    
<style>
  :root{
    /* Claro neutro con acento azul */
    --bg:#f6f7fb; --card:#ffffff; --muted:#5b6578; --text:#1f2937;
    --accent:#2563eb; --accent2:#10b981;
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Helvetica,Arial,sans-serif;
    color:var(--text);
    background:var(--bg);
  }
  .wrap{max-width:880px;margin:5vh auto;padding:24px}
  .card{
    background:var(--card);
    border:1px solid #e6e8ef;            /* borde más definido */
    border-radius:20px;
    padding:28px;
    box-shadow:0 12px 28px rgba(0,0,0,.06);
  }
  h1{font-size:clamp(1.6rem,2.2vw,2.2rem);margin:0 0 4px}
  p.lead{color:var(--muted);margin-top:0}
  form{display:grid;gap:16px;margin-top:12px}
  .row{display:grid;gap:16px;grid-template-columns:1fr}
  @media (min-width:700px){ .row{grid-template-columns:1fr 1fr} }
  label{font-weight:600; font-size:.95rem}
  input, textarea, select{
    width:100%;padding:12px 14px;border-radius:12px;
    border:1px solid #d8dbe5;            /* gris + firme que el pastel */
    background:#fff;color:var(--text);
    outline:none; transition:border-color .2s, box-shadow .2s
  }
  input::placeholder, textarea::placeholder{color:#9aa3b2}
  input:focus, textarea:focus, select:focus{
    border-color:var(--accent);
    box-shadow:0 0 0 3px rgba(37,99,235,.18)  /* azul suave al foco */
  }
  textarea{min-height:140px; resize:vertical}
  .hint{color:var(--muted);font-size:.85rem}
  .actions{display:flex;gap:12px;align-items:center;justify-content:flex-start;margin-top:6px}
  button{appearance:none;border:0;border-radius:12px;padding:12px 16px;font-weight:700;cursor:pointer}
  .btn-primary{
    background:linear-gradient(135deg,var(--accent),#4f7df2);
    color:#fff;
  }
  .btn-ghost{background:transparent;color:var(--text);border:1px solid #d8dbe5}
  .success, .error{border-radius:14px;padding:14px 16px}
  .success{background:rgba(16,185,129,.10); border:1px solid rgba(16,185,129,.35)}
  .error{background:rgba(220,38,38,.08); border:1px solid rgba(220,38,38,.28)}
  .hidden{display:none}
  .divider{height:1px;background:linear-gradient(90deg,transparent,#e6e8ef,transparent);margin:6px 0 2px}
  .required{color:#ef4444} /* rojo más sobrio */

  .brand{display:flex;align-items:center;gap:10px;margin-bottom:10px}
  .brand-badge{
    width:36px;height:36px;border-radius:10px;
    background:linear-gradient(135deg,var(--accent2),var(--accent));
    display:grid;place-items:center;color:#fff;font-weight:900
  }

  /* === Validación menos estridente === */
  /* Desactiva borde/halo rojo en inválidos */
  input:required:invalid,
  textarea:required:invalid,
  select:required:invalid{
    border-color:#d8dbe5 !important; /* gris neutro */
    box-shadow:none !important;      /* sin halo */
  }
  
  /* Evita que al enfocar un campo inválido se pinte rojo */
  input:focus:invalid,
  textarea:focus:invalid,
  select:focus:invalid{
    border-color:var(--accent) !important;           /* usa tu color de foco */
    box-shadow:0 0 0 3px rgba(37,99,235,.18) !important; /* halo azul suave */
  }
  /* Verde suave al OK */
  input:required:valid, textarea:required:valid, select:required:valid {
    border-color:#34d399;
  }
  .shake { animation: shake .30s linear 0s 1; }
  @keyframes shake {
    0%{transform:translateX(0)} 25%{transform:translateX(-4px)}
    50%{transform:translateX(4px)} 75%{transform:translateX(-4px)} 100%{transform:translateX(0)}
  }
</style>


  </head>
  <body>
    <main class="wrap">
      <section class="card">
        <div class="brand">
          <div class="brand-badge">F</div>
          <div>
            <h1>Formulario de adopcion -modo prueba-</h1>
            <p class="lead">Hospedado en <strong>GitHub Pages</strong> y procesado por <strong>Formspree</strong>.</p>
          </div>
        </div>

        <div id="msg-success" class="success hidden" role="status">¡Gracias! Tu mensaje fue enviado correctamente.</div>
        <div id="msg-error" class="error hidden" role="alert">Ocurrió un error al enviar. Intenta nuevamente.</div>

        <div class="divider"></div>

        <!--
          Para usar Formspree:
          1) Crea una cuenta y un formulario. Obtendrás un endpoint tipo https://formspree.io/f/XYZabcd
          2) Reemplaza el valor de ACTION abajo con tu endpoint.
          3) (Opcional) Agrega un _next con URL de "gracias" si quieres redirigir tras el envío (cuando no uses AJAX).
        -->
        <form id="contact-form" action="https://formspree.io/f/xnngaben" method="POST">
          <div class="row">
            <div>
              <label for="nombre">Nombre <span class="required">*</span></label>
              <input id="nombre" name="nombre" type="text" required autocomplete="name" />
            </div>
            <div>
              <label for="email">Correo <span class="required">*</span></label>
              <input id="email" name="email" type="email" required autocomplete="email" />
            </div>
          </div>

          <div>
            <label for="asunto">Asunto</label>
            <input id="asunto" name="asunto" type="text" required />
          </div>

          <div>
            <label for="mensaje">¿Cuál es su principal motivación para adoptar? <span class="required">*</span></label>
            <textarea id="mensaje" name="mensaje" required placeholder="Cuéntanos de tí, de tu núcleo familiar, y de las principales motivaciones que tienes para adoptar…"></textarea>
          </div>

          <!-- Honeypot anti-spam sugerido por Formspree -->
          <input type="text" name="_gotcha" style="display:none" tabindex="-1" autocomplete="off" />

          <!-- Redirección opcional SIN usar AJAX -->
          <!-- <input type="hidden" name="_next" value="https://tuusuario.github.io/tu-repo/gracias.html"> -->

          <!-- ➕ Preguntas adicionales para adopción -->
          <fieldset style="border:1px solid rgba(255,255,255,.12);border-radius:12px;padding:12px 14px">
            <legend style="padding:0 6px;color:var(--muted)">Cuestionario de adopción</legend>

            <div>
              <label>¿Su vivienda es propia o arrendada? <span class="required">*</span></label>
              <div style="display:flex;gap:14px;margin-top:6px">
                <label><input type="radio" name="vivienda" value="propia" required> Propia</label>
                <label><input type="radio" name="vivienda" value="arrendada" required> Arrendada</label>
              </div>
              <p class="hint">Esta información nos ayuda a adaptar el proceso a tu contexto de hogar.</p>
            </div>

            <div class="row">
              <div>
                <label for="personas_hogar">¿Cuántas personas viven en el hogar? <span class="required">*</span></label>
                <input id="personas_hogar" name="personas_hogar" type="number" min="1" step="1" required />
              </div>
              <div>
                <label>¿Todas están de acuerdo con la adopción? <span class="required">*</span></label>
                <div style="display:flex;gap:14px;margin-top:6px">
                  <label><input type="radio" name="acuerdo_total" value="si" required> Sí</label>
                  <label><input type="radio" name="acuerdo_total" value="no" required> No</label>
                </div>
              </div>
            </div>

            <div>
              <label for="lugar_vivir">¿Dónde vivirá principalmente la mascota? <span class="required">*</span></label>
              <select id="lugar_vivir" name="lugar_vivir" required>
                <option value="" selected disabled>Selecciona una opción</option>
                <option>Dentro de la casa</option>
                <option>Fuera</option>
                <option>Ambos</option>
              </select>
            </div>

            <div>
              <label for="acompanamiento">Durante el día, ¿estará acompañada o pasará varias horas sola? <span class="required">*</span></label>
              <select id="acompanamiento" name="acompanamiento" required>
                <option value="" selected disabled>Selecciona una opción</option>
                <option>Acompañada la mayor parte del día</option>
                <option>Estará sola varias horas</option>
                <option>Mixto (algunas horas sola)</option>
              </select>
            </div>

            <div>
              <label>¿Podrá garantizar paseos diarios? <span class="required">*</span></label>
              <div style="display:flex;gap:14px;margin-top:6px;align-items:center">
                <label><input type="radio" name="paseos_diarios" value="si" required> Sí</label>
                <label><input type="radio" name="paseos_diarios" value="no" required> No</label>
                <label id="cuantos_wrap" class="hidden" style="margin-left:10px">
                  ¿Cuántos aprox.? <input id="paseos_cantidad" name="paseos_cantidad" type="number" min="1" step="1" style="width:110px">
                </label>
              </div>
            </div>

            <div>
              <label for="otras_mascotas">¿Tiene actualmente otras mascotas en el hogar? ¿Cómo describiría su carácter?</label>
              <textarea id="otras_mascotas" name="otras_mascotas" required placeholder="Ej.: 1 perro y 1 gato; carácter: sociables, tranquilos, etc."></textarea>
            </div>

            <div>
              <label for="responsable_separacion">Si tiene pareja, en caso de separación o divorcio, ¿quién asumiría la responsabilidad del cuidado?</label>
              <input id="responsable_separacion" name="responsable_separacion" type="text" required placeholder="Nombre / relación" />
            </div>

            <div>
              <label>¿Cuenta con medios económicos para alimentación, controles y emergencias? <span class="required">*</span></label>
              <div style="display:flex;gap:14px;margin-top:6px">
                <label><input type="radio" name="medios_economicos" value="si" required> Sí</label>
                <label><input type="radio" name="medios_economicos" value="no" required> No</label>
              </div>
            </div>

            <div>
              <label for="planes_vacaciones">En vacaciones o viajes, ¿qué planes tendría para el cuidado?</label>
              <textarea id="planes_vacaciones" name="planes_vacaciones" required placeholder="Encargado/a de confianza, residencia temporal, llevarla, etc."></textarea>
            </div>

            <div>
              <label>¿Su patio o espacio exterior está completamente cerrado y seguro? <span class="required">*</span></label>
              <div style="display:flex;gap:14px;margin-top:6px">
                <label><input type="radio" name="patio_cerrado" value="si" required> Sí</label>
                <label><input type="radio" name="patio_cerrado" value="no" required> No</label>
              </div>
            </div>
          </fieldset>

          <div class="actions">
            <button class="btn-primary" type="submit">Enviar</button>
            <button class="btn-ghost" type="reset">Limpiar</button>
            <span class="hint">Campos marcados con <span class="required">*</span> son obligatorios.</span>
          </div>
        </form>

        <footer>
          <p>Consejo: en el panel de Formspree puedes activar notificaciones por email y ver los envíos.</p>
        </footer>
      </section>
    </main>

    <script>
      // Envío con fetch para permanecer en la misma página.
      // Alternativamente, elimina este script para usar POST tradicional + _next.
      const form = document.getElementById('contact-form');
      const success = document.getElementById('msg-success');
      const error = document.getElementById('msg-error');

      async function handleSubmit(e){
        e.preventDefault();
        success.classList.add('hidden');
        error.classList.add('hidden');

        const data = new FormData(form);
        try{
          const res = await fetch(form.action, {
            method: 'POST',
            body: data,
            headers: { 'Accept': 'application/json' }
          });
          if(res.ok){
            form.reset();
            success.classList.remove('hidden');
            success.scrollIntoView({behavior:'smooth', block:'center'});
          } else {
            // Si Formspree devuelve errores de validación, intenta leerlos
            const err = await res.json().catch(()=>({}));
            console.error(err);
            error.classList.remove('hidden');
            error.scrollIntoView({behavior:'smooth', block:'center'});
          }
        }catch(err){
          console.error(err);
          error.classList.remove('hidden');
          error.scrollIntoView({behavior:'smooth', block:'center'});
        }
      }

      // Lógica condicional del cuestionario
      const viviendaRadios = document.querySelectorAll('input[name="vivienda"]');
      const paseosRadios = document.querySelectorAll('input[name="paseos_diarios"]');
      const cuantosWrap = document.getElementById('cuantos_wrap');
      const paseosCantidad = document.getElementById('paseos_cantidad');

      paseosRadios.forEach(r => r.addEventListener('change', () => {
        if (r.checked && r.value === 'si') {
          cuantosWrap.classList.remove('hidden');
          paseosCantidad.setAttribute('required','required');
        } else if (r.checked && r.value === 'no') {
          cuantosWrap.classList.add('hidden');
          paseosCantidad.removeAttribute('required');
          paseosCantidad.value = '';
        }
      }));

      form.addEventListener('submit', handleSubmit);
    </script>
  </body>
</html>
